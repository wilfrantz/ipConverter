CMAKE_MINIMUM_REQUIRED(VERSION 3.26.0)
PROJECT(ipconverter VERSION 0.0.1 LANGUAGES CXX)

SET(CMAKE_CXX_STANDARD 17)
OPTION(CMAKE_VERBOSE_MAKEFILE "Verbose Makefile" ON)

ADD_COMPILE_DEFINITIONS(ENGINE_VERSSION="${PROJECT_VERSION}")

ADD_EXECUTABLE("${PROJECT_NAME}" 
                src/ipconverter.cpp
                src/main.cpp
 )

 TARGET_LINK_LIBRARIES("${PROJECT_NAME}" 
                    curl
 )

IF (BUILD_TESTS)
    MESSAGE(STATUS "Building tests")
    ENABLE_TESTING()
    ADD_SUBDIRECTORY(test)
    ADD_TEST(NAME ${PROJECT_NAME}_test COMMAND ${PROJECT_NAME}_test)
ENDIF (BUILD_TESTS)